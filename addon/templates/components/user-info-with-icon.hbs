<div
  class="user-with-icon flippable-icons-with-text"
  onmouseenter={{action "userInfoHovered" true}}
  onmouseleave={{action "userInfoHovered" false}}
>
  <div
    class="user-info-trigger popover-info-trigger"
    {{action
      (mut userInfoOpened)
      (not userInfoOpened)
      bubbles=false
    }}
  >
    {{flippable-icons
      iconName="user"
      iconColor=iconColor
      isHovered=hasUserInfoHovered
      suppressFlipping=userInfoOpened
    }}
  </div>
  {{#truncated-string
    tagName="div"
    class="user-text-container"
  }}
    <span class="user-fullname">{{or user.fullName "â€”"}}</span>
    {{#if user.username}}
      <span class="user-username">({{user.username}})</span>
    {{/if}}
  {{/truncated-string}}
</div>
{{#record-info-popover
  isOpened=userInfoOpened
  triggerSelector=(concat "#" elementId " .user-info-trigger")
}}
  {{user-info-content
    user=user
    errorReason=errorReason
  }}
{{/record-info-popover}}
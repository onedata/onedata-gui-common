{{#if viewMode}}
  <span
    onclick={{action "onStartEdit"}}
    class="comparator-value comparator-value-view {{elementClass}}"
  >
    {{viewModeComparatorValue}}
  </span>
{{else}}
  <div
    id={{componentGuid}}
    class="form-group form-group-fill-line comparator-value-editor {{comparatorEditor.type}}-editor {{if isValueInvalid "has-error"}} {{elementClass}}"
  >
    {{!-- FIXME: maybe everything should be in separate components --}}
    {{#if (or
      (eq comparatorEditor.type "dropdown")
      (eq comparatorEditor.type "storage")
    )}}
      {{#power-select
        options=comparatorEditor.values
        dropdownClass="small ember-basic-dropdown-content-comparator-value over-popover-over-modals"
        selected=value
        renderInPlace=false
        triggerClass="small comparator-value"
        placeholder=(tt this "dropdownPlaceholder")
        onchange=(action "valueChanged")
        onblur=(action "onSelectorBlur")
        onclose=(action "onFinishEdit")
        as |itemValue|
      }}
        {{#if (eq queryProperty.key "storageId")}}
          <div class="option-container">
            {{#truncated-string class="storage-option-storage-line"}}
              <strong class="storage-name">{{itemValue.name}}</strong>
              <code class="storage-id comparator-item-id">{{itemValue.entityId}}</code>
            {{/truncated-string}}
            {{#truncated-string class="storage-option-provider-line small"}}
              {{tt this "providedBy"}}
              <span class="storage-provider">{{itemValue.provider.name}}</span>
            {{/truncated-string}}
          </div>
        {{else if (eq queryProperty.key "providerId")}}
          <div class="option-container">
            {{#truncated-string class="provider-option-provider-line"}}
              <strong class="provider-name">{{itemValue.name}}</strong>
              <code class="provider-id comparator-item-id">{{itemValue.entityId}}</code>
            {{/truncated-string}}
          </div>
        {{else}}
          {{itemValue}}
        {{/if}}
      {{/power-select}}
    {{else if (eq comparatorEditor.type "text")}}
      <input
        type="text"
        class="comparator-value form-control {{if isValueInvalid "is-invalid"}} {{inputClass}}"
        value={{value}}
        oninput={{action "valueChanged" value="target.value"}}
        onkeydown={{action "onKeyDown"}}
        onblur={{action "onFinishEdit"}}
      >
    {{/if}}
  </div>
{{/if}}

{{!-- TODO i18n --}}

{{#if isCollectionEmpty}}

  {{empty-collection-sidebar resourceType=resourceType showCreateButton=showCreateOnEmpty}}

{{else}}

  {{yield}}

  {{#one-list-wrapper items=sortedCollection class="no-top-border" as |item|}}
    {{#one-list-primary-item item=item
      isActive=(and (eq activeResourceType resourceType) (eq primaryItemId item.id))
      as |primarySection|}}
      {{#if (eq primarySection "header")}}
        {{#link-to
          "onedata.sidebar.content.index"
          sidebarType
          (model-routable-id item)
          (query-params-hash queryParams)
        }}
          {{#if firstLevelItemComponent}}
            {{component firstLevelItemComponent item=item sidebar=this}}
          {{else}}
            {{#if firstLevelItemIcon}}
              {{one-icon class="sidebar-item-icon" icon=firstLevelItemIcon}} 
            {{/if}}
            {{#truncated-string class=(if firstLevelItemIcon "after-icon")}}
              {{name-conflict item=item tagName="span" class="one-label"}}
            {{/truncated-string}}
          {{/if}}
        {{/link-to}}
      {{else if (eq primarySection "secondary")}}
        {{!-- TODO isActive secondary --}}
        <ul class="one-list one-list-level-2">
          {{component secondLevelItemsComponent
            item=item
            secondaryItemId=secondaryItemId
            sidebar=this
            secondLevelItems=secondLevelItems
            sidebarType=sidebarType
          }}
        </ul>
      {{/if}}
    {{/one-list-primary-item}}
  {{/one-list-wrapper}}

{{/if}}


